
dependencies {
    testCompile 'junit:junit:4.12'
    compile 'com.google.code.findbugs:jsr305:3.0.2'
    compile 'com.fasterxml.jackson.core:jackson-databind:2.9.9'
    compile 'com.fasterxml.jackson.core:jackson-core:2.9.9'
    compile 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.9.8'
    compile group: 'org.apache.commons', name: 'commons-lang3', version: '3.4'
}


sourceSets {
    main {
        java {
            srcDir 'build/generated/src/main/java'
        }
    }
}


task versionTxt()  {
    doLast {
        new File(projectDir, "$buildInfoPath").mkdirs()
        new File(projectDir, "$buildInfoPath/BuildInfo.java").text = """
package $buildInfoPackage;
public class BuildInfo {
    public static final String VERSION = "$version";

}
        """
    }
}

compileJava{
    dependsOn versionTxt
}
